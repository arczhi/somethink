# SomeThink 快速开始指南

## 🚀 安装步骤

### 1. 确保已安装 Python 3.8+

```bash
python --version
```

### 2. 进入项目目录

```bash
cd somethink
```

### 3. 安装依赖

**方式一：完整安装（包含语义搜索）**

```bash
pip install -r requirements.txt
```

**方式二：最小安装（仅关键词搜索，更快更轻量）**

如果遇到模型加载问题或想要更轻量的版本：

```bash
pip install -r requirements-minimal.txt
```

如果遇到安装问题，可以尝试：

```bash
# macOS/Linux
python3 -m pip install -r requirements.txt

# Windows
py -m pip install -r requirements.txt
```

**注意**: 
- 完整版安装包含机器学习库，需要几分钟时间和约500MB空间
- 最小版仅支持关键词搜索，但安装快速且占用空间小
- 如果遇到SSL证书错误，可以使用：`pip install -r requirements.txt --trusted-host pypi.org --trusted-host files.pythonhosted.org`

### 4. 运行应用

```bash
python main.py
```

或使用启动脚本：

```bash
python run.py
```

## 📝 首次使用

1. **选择索引目录**: 首次启动会提示选择要索引的文件夹
2. **等待索引**: 应用会扫描并索引选中目录的文件（首次可能需要几分钟）
3. **下载模型**: 首次使用时会自动下载语义搜索模型（约80MB）
4. **开始搜索**: 索引完成后即可在搜索框输入关键词进行搜索

## 🎯 使用技巧

### 搜索方式

- **文件名搜索**: 直接输入文件名关键词
- **内容搜索**: 输入文档内容中的关键词
- **主题搜索**: 输入抽象概念（如"机器学习"、"旅行照片"）

### 快捷键

- `Enter`: 打开选中的文件
- 点击文件项: 直接打开文件
- 点击 ⚙️ 设置: 管理索引路径和查看统计信息

### 设置管理

在设置窗口中可以：
- 添加/删除索引路径
- 查看索引统计信息
- 重建索引和主题模型

## 🔧 常见问题

### Q: 安装依赖时出错？

A: 尝试升级pip：
```bash
pip install --upgrade pip
```

### Q: 模型下载慢或失败？

A: 模型会从HuggingFace下载，可能需要科学上网。或手动下载后放到 `~/.cache/torch/sentence_transformers/` 目录。

### Q: 搜索结果不准确？

A: 
1. 确保已索引足够多的文件（建议>100个）
2. 在设置中点击"重建索引和主题模型"
3. 等待索引和模型训练完成

### Q: 内存占用过高？

A: 系统会根据内存自动选择模型大小，但如果文件很多，可能需要4GB以上内存。

### Q: 如何索引新文件？

A: 目前需要在设置中点击"重建索引"，后续版本会支持自动增量索引。

## 📦 打包为独立应用（可选）

安装 PyInstaller：

```bash
pip install pyinstaller
```

打包应用：

```bash
# macOS/Linux
pyinstaller --onefile --windowed --name=SomeThink main.py

# Windows
pyinstaller --onefile --windowed --name=SomeThink.exe main.py
```

生成的可执行文件在 `dist/` 目录下。

## 🆘 获取帮助

- 查看 README.md 了解更多信息
- 查看技术细节文档.md 了解架构设计
- 提交 Issue 报告问题或建议

## 📊 性能建议

**系统要求**:
- 内存: 4GB+ 推荐
- 磁盘: 500MB+（包含模型和索引）
- 支持: macOS 10.14+, Windows 10+, Ubuntu 18.04+

**索引速度参考**:
- 1000个文件：1-2分钟
- 10000个文件：10-15分钟
- 主题建模：文档数量越多，训练越慢（约占总时间30%）

**搜索性能**:
- 关键词搜索：<100ms
- 语义搜索：<500ms（首次查询可能较慢）

---

祝使用愉快！🎉
